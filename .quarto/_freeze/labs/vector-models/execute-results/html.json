{
  "hash": "1d5971b4391a7129ad013303e14e3984",
  "result": {
    "engine": "knitr",
    "markdown": "\n# Introduction to Vector Models and Word Embeddings\n\nThis is just a very quick walk-though tutorial on using vector models. This Lab only uses a pre-trained model. However, you can build your own model (which we will do in another Lab). You can also use vector models for classification tasks. For that, you should consult the document for the R package we're using: **ruimtehol**.\n\nThere is an overview here:\n\n<http://www.bnosac.be/index.php/blog/86-neural-text-modelling-with-r-package-ruimtehol>\n\nAnd here:\n\n<https://github.com/bnosac/ruimtehol>\n\nFor more about Word2vec and embeddings generally, see the overview here:\n\n<https://medium.com/compassred-data-blog/introduction-to-word-embeddings-and-its-applications-8749fd1eb232>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ruimtehol)\nlibrary(tidyverse)\nlibrary(Rtsne)\nlibrary(gt)\n```\n:::\n\n\n## Basics\n\nA variety of models are available for you on CMU Box:\n\n<https://cmu.box.com/s/o2y5lbaonmguf51h5kipa6i2v4y3nm3n>\n\nYou can simply download a model and place it in the `models` directory. Then load the model.\n\nFor demo purposes, we'll use a small one that contains the 50,000 most frequent tokens in COCA and embeddings in only 100 dimensions.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# model <- starspace_load_model(\"../models/en_coca_vec_sm.ruimtehol\")\n# model <- starspace_load_model(\"../models/en_stanford_cc_lg.ruimtehol\")\n\nmodel <- starspace_load_model(\"../models/en_coca_vec_50k.ruimtehol\")\n```\n:::\n\n\nNow we can check how similarities work.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nembedding_similarity(\n  starspace_embedding(model, \"dog\"),\n  starspace_embedding(model, \"cat\"), \n  type = \"cosine\") |>\n  tibble::enframe() |>\n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"rkdghbkyyp\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#rkdghbkyyp table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#rkdghbkyyp thead, #rkdghbkyyp tbody, #rkdghbkyyp tfoot, #rkdghbkyyp tr, #rkdghbkyyp td, #rkdghbkyyp th {\n  border-style: none;\n}\n\n#rkdghbkyyp p {\n  margin: 0;\n  padding: 0;\n}\n\n#rkdghbkyyp .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#rkdghbkyyp .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#rkdghbkyyp .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#rkdghbkyyp .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#rkdghbkyyp .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#rkdghbkyyp .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rkdghbkyyp .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#rkdghbkyyp .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#rkdghbkyyp .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#rkdghbkyyp .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#rkdghbkyyp .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#rkdghbkyyp .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#rkdghbkyyp .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#rkdghbkyyp .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#rkdghbkyyp .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#rkdghbkyyp .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#rkdghbkyyp .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#rkdghbkyyp .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#rkdghbkyyp .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rkdghbkyyp .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#rkdghbkyyp .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#rkdghbkyyp .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#rkdghbkyyp .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rkdghbkyyp .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#rkdghbkyyp .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#rkdghbkyyp .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rkdghbkyyp .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rkdghbkyyp .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#rkdghbkyyp .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rkdghbkyyp .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#rkdghbkyyp .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rkdghbkyyp .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#rkdghbkyyp .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rkdghbkyyp .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#rkdghbkyyp .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rkdghbkyyp .gt_left {\n  text-align: left;\n}\n\n#rkdghbkyyp .gt_center {\n  text-align: center;\n}\n\n#rkdghbkyyp .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#rkdghbkyyp .gt_font_normal {\n  font-weight: normal;\n}\n\n#rkdghbkyyp .gt_font_bold {\n  font-weight: bold;\n}\n\n#rkdghbkyyp .gt_font_italic {\n  font-style: italic;\n}\n\n#rkdghbkyyp .gt_super {\n  font-size: 65%;\n}\n\n#rkdghbkyyp .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#rkdghbkyyp .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#rkdghbkyyp .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#rkdghbkyyp .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#rkdghbkyyp .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#rkdghbkyyp .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#rkdghbkyyp .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#rkdghbkyyp .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#rkdghbkyyp div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"name\">name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"value\">value</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"name\" class=\"gt_row gt_left\">dog</td>\n<td headers=\"value\" class=\"gt_row gt_center\">0.8887681</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\nLook for nearest embeddings.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstarspace_knn(model, \"shakespeare\", 10) |>\n  data.frame() |>\n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"erocsylzbs\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#erocsylzbs table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#erocsylzbs thead, #erocsylzbs tbody, #erocsylzbs tfoot, #erocsylzbs tr, #erocsylzbs td, #erocsylzbs th {\n  border-style: none;\n}\n\n#erocsylzbs p {\n  margin: 0;\n  padding: 0;\n}\n\n#erocsylzbs .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#erocsylzbs .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#erocsylzbs .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#erocsylzbs .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#erocsylzbs .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#erocsylzbs .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#erocsylzbs .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#erocsylzbs .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#erocsylzbs .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#erocsylzbs .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#erocsylzbs .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#erocsylzbs .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#erocsylzbs .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#erocsylzbs .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#erocsylzbs .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#erocsylzbs .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#erocsylzbs .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#erocsylzbs .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#erocsylzbs .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#erocsylzbs .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#erocsylzbs .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#erocsylzbs .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#erocsylzbs .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#erocsylzbs .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#erocsylzbs .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#erocsylzbs .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#erocsylzbs .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#erocsylzbs .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#erocsylzbs .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#erocsylzbs .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#erocsylzbs .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#erocsylzbs .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#erocsylzbs .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#erocsylzbs .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#erocsylzbs .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#erocsylzbs .gt_left {\n  text-align: left;\n}\n\n#erocsylzbs .gt_center {\n  text-align: center;\n}\n\n#erocsylzbs .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#erocsylzbs .gt_font_normal {\n  font-weight: normal;\n}\n\n#erocsylzbs .gt_font_bold {\n  font-weight: bold;\n}\n\n#erocsylzbs .gt_font_italic {\n  font-style: italic;\n}\n\n#erocsylzbs .gt_super {\n  font-size: 65%;\n}\n\n#erocsylzbs .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#erocsylzbs .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#erocsylzbs .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#erocsylzbs .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#erocsylzbs .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#erocsylzbs .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#erocsylzbs .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#erocsylzbs .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#erocsylzbs div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"input\">input</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"prediction.label\">prediction.label</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"prediction.similarity\">prediction.similarity</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"prediction.rank\">prediction.rank</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"input\" class=\"gt_row gt_left\">shakespeare</td>\n<td headers=\"prediction.label\" class=\"gt_row gt_left\">shakespeare</td>\n<td headers=\"prediction.similarity\" class=\"gt_row gt_right\">1.0000000</td>\n<td headers=\"prediction.rank\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"input\" class=\"gt_row gt_left\">shakespeare</td>\n<td headers=\"prediction.label\" class=\"gt_row gt_left\">macbeth</td>\n<td headers=\"prediction.similarity\" class=\"gt_row gt_right\">0.8593846</td>\n<td headers=\"prediction.rank\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"input\" class=\"gt_row gt_left\">shakespeare</td>\n<td headers=\"prediction.label\" class=\"gt_row gt_left\">shakespearean</td>\n<td headers=\"prediction.similarity\" class=\"gt_row gt_right\">0.8482000</td>\n<td headers=\"prediction.rank\" class=\"gt_row gt_right\">3</td></tr>\n    <tr><td headers=\"input\" class=\"gt_row gt_left\">shakespeare</td>\n<td headers=\"prediction.label\" class=\"gt_row gt_left\">elizabethan</td>\n<td headers=\"prediction.similarity\" class=\"gt_row gt_right\">0.7955307</td>\n<td headers=\"prediction.rank\" class=\"gt_row gt_right\">4</td></tr>\n    <tr><td headers=\"input\" class=\"gt_row gt_left\">shakespeare</td>\n<td headers=\"prediction.label\" class=\"gt_row gt_left\">dramatist</td>\n<td headers=\"prediction.similarity\" class=\"gt_row gt_right\">0.7793428</td>\n<td headers=\"prediction.rank\" class=\"gt_row gt_right\">5</td></tr>\n    <tr><td headers=\"input\" class=\"gt_row gt_left\">shakespeare</td>\n<td headers=\"prediction.label\" class=\"gt_row gt_left\">chekhov</td>\n<td headers=\"prediction.similarity\" class=\"gt_row gt_right\">0.7715034</td>\n<td headers=\"prediction.rank\" class=\"gt_row gt_right\">6</td></tr>\n    <tr><td headers=\"input\" class=\"gt_row gt_left\">shakespeare</td>\n<td headers=\"prediction.label\" class=\"gt_row gt_left\">chaucer</td>\n<td headers=\"prediction.similarity\" class=\"gt_row gt_right\">0.7700459</td>\n<td headers=\"prediction.rank\" class=\"gt_row gt_right\">7</td></tr>\n    <tr><td headers=\"input\" class=\"gt_row gt_left\">shakespeare</td>\n<td headers=\"prediction.label\" class=\"gt_row gt_left\">lyric</td>\n<td headers=\"prediction.similarity\" class=\"gt_row gt_right\">0.7639523</td>\n<td headers=\"prediction.rank\" class=\"gt_row gt_right\">8</td></tr>\n    <tr><td headers=\"input\" class=\"gt_row gt_left\">shakespeare</td>\n<td headers=\"prediction.label\" class=\"gt_row gt_left\">sondheim</td>\n<td headers=\"prediction.similarity\" class=\"gt_row gt_right\">0.7615547</td>\n<td headers=\"prediction.rank\" class=\"gt_row gt_right\">9</td></tr>\n    <tr><td headers=\"input\" class=\"gt_row gt_left\">shakespeare</td>\n<td headers=\"prediction.label\" class=\"gt_row gt_left\">lear</td>\n<td headers=\"prediction.similarity\" class=\"gt_row gt_right\">0.7589097</td>\n<td headers=\"prediction.rank\" class=\"gt_row gt_right\">10</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\nWe can also calculate document similarity.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nembedding_similarity(\n  starspace_embedding(model, \"what does this bunch of text look like\", type = \"document\"),\n  starspace_embedding(model, \"word abracadabra is even in the dictionary\", type = \"document\"), \n  type = \"cosine\") |>\n  tibble::enframe() |>\n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"jplmzmsafh\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#jplmzmsafh table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#jplmzmsafh thead, #jplmzmsafh tbody, #jplmzmsafh tfoot, #jplmzmsafh tr, #jplmzmsafh td, #jplmzmsafh th {\n  border-style: none;\n}\n\n#jplmzmsafh p {\n  margin: 0;\n  padding: 0;\n}\n\n#jplmzmsafh .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#jplmzmsafh .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#jplmzmsafh .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#jplmzmsafh .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#jplmzmsafh .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jplmzmsafh .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jplmzmsafh .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jplmzmsafh .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#jplmzmsafh .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#jplmzmsafh .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#jplmzmsafh .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#jplmzmsafh .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#jplmzmsafh .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#jplmzmsafh .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#jplmzmsafh .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#jplmzmsafh .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#jplmzmsafh .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#jplmzmsafh .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#jplmzmsafh .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jplmzmsafh .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#jplmzmsafh .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#jplmzmsafh .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#jplmzmsafh .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jplmzmsafh .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#jplmzmsafh .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#jplmzmsafh .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jplmzmsafh .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jplmzmsafh .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#jplmzmsafh .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jplmzmsafh .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#jplmzmsafh .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jplmzmsafh .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jplmzmsafh .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jplmzmsafh .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jplmzmsafh .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jplmzmsafh .gt_left {\n  text-align: left;\n}\n\n#jplmzmsafh .gt_center {\n  text-align: center;\n}\n\n#jplmzmsafh .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#jplmzmsafh .gt_font_normal {\n  font-weight: normal;\n}\n\n#jplmzmsafh .gt_font_bold {\n  font-weight: bold;\n}\n\n#jplmzmsafh .gt_font_italic {\n  font-style: italic;\n}\n\n#jplmzmsafh .gt_super {\n  font-size: 65%;\n}\n\n#jplmzmsafh .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#jplmzmsafh .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#jplmzmsafh .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#jplmzmsafh .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#jplmzmsafh .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#jplmzmsafh .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#jplmzmsafh .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#jplmzmsafh .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#jplmzmsafh div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"name\">name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"value\">value</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"name\" class=\"gt_row gt_left\">what does this bunch of text look like</td>\n<td headers=\"value\" class=\"gt_row gt_center\">0.9002735</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\nNote that we can extract embeddings, as well.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nembedding <- as.matrix(model)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nembedding[c(\"dog\", \"cat\"), ][,1:10] |>\n  data.frame() |>\n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"vlacvcpqhc\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#vlacvcpqhc table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#vlacvcpqhc thead, #vlacvcpqhc tbody, #vlacvcpqhc tfoot, #vlacvcpqhc tr, #vlacvcpqhc td, #vlacvcpqhc th {\n  border-style: none;\n}\n\n#vlacvcpqhc p {\n  margin: 0;\n  padding: 0;\n}\n\n#vlacvcpqhc .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#vlacvcpqhc .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#vlacvcpqhc .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#vlacvcpqhc .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#vlacvcpqhc .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vlacvcpqhc .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vlacvcpqhc .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vlacvcpqhc .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#vlacvcpqhc .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#vlacvcpqhc .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#vlacvcpqhc .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#vlacvcpqhc .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#vlacvcpqhc .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#vlacvcpqhc .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#vlacvcpqhc .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vlacvcpqhc .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#vlacvcpqhc .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#vlacvcpqhc .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#vlacvcpqhc .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vlacvcpqhc .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#vlacvcpqhc .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#vlacvcpqhc .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#vlacvcpqhc .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vlacvcpqhc .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#vlacvcpqhc .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#vlacvcpqhc .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vlacvcpqhc .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vlacvcpqhc .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#vlacvcpqhc .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vlacvcpqhc .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#vlacvcpqhc .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vlacvcpqhc .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vlacvcpqhc .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vlacvcpqhc .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vlacvcpqhc .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vlacvcpqhc .gt_left {\n  text-align: left;\n}\n\n#vlacvcpqhc .gt_center {\n  text-align: center;\n}\n\n#vlacvcpqhc .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#vlacvcpqhc .gt_font_normal {\n  font-weight: normal;\n}\n\n#vlacvcpqhc .gt_font_bold {\n  font-weight: bold;\n}\n\n#vlacvcpqhc .gt_font_italic {\n  font-style: italic;\n}\n\n#vlacvcpqhc .gt_super {\n  font-size: 65%;\n}\n\n#vlacvcpqhc .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#vlacvcpqhc .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#vlacvcpqhc .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#vlacvcpqhc .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#vlacvcpqhc .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#vlacvcpqhc .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#vlacvcpqhc .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#vlacvcpqhc .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#vlacvcpqhc div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"X1\">X1</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"X2\">X2</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"X3\">X3</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"X4\">X4</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"X5\">X5</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"X6\">X6</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"X7\">X7</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"X8\">X8</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"X9\">X9</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"X10\">X10</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"X1\" class=\"gt_row gt_right\">0.3358528</td>\n<td headers=\"X2\" class=\"gt_row gt_right\">-0.06600608</td>\n<td headers=\"X3\" class=\"gt_row gt_right\">-0.082166046</td>\n<td headers=\"X4\" class=\"gt_row gt_right\">0.3292679</td>\n<td headers=\"X5\" class=\"gt_row gt_right\">-0.2417040</td>\n<td headers=\"X6\" class=\"gt_row gt_right\">0.07791379</td>\n<td headers=\"X7\" class=\"gt_row gt_right\">-0.07094227</td>\n<td headers=\"X8\" class=\"gt_row gt_right\">-0.076595172</td>\n<td headers=\"X9\" class=\"gt_row gt_right\">-0.3657310</td>\n<td headers=\"X10\" class=\"gt_row gt_right\">-0.1289230</td></tr>\n    <tr><td headers=\"X1\" class=\"gt_row gt_right\">0.3675254</td>\n<td headers=\"X2\" class=\"gt_row gt_right\">-0.10713406</td>\n<td headers=\"X3\" class=\"gt_row gt_right\">0.002169422</td>\n<td headers=\"X4\" class=\"gt_row gt_right\">0.2818099</td>\n<td headers=\"X5\" class=\"gt_row gt_right\">-0.2916131</td>\n<td headers=\"X6\" class=\"gt_row gt_right\">0.01043738</td>\n<td headers=\"X7\" class=\"gt_row gt_right\">-0.05357843</td>\n<td headers=\"X8\" class=\"gt_row gt_right\">0.002390111</td>\n<td headers=\"X9\" class=\"gt_row gt_right\">-0.2753031</td>\n<td headers=\"X10\" class=\"gt_row gt_right\">-0.1173636</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\nThis ability is useful if we want to plot the locations of words or documents.\n\n## Example from the MICUSP data\n\nFirst, we'll read in the text data and load some functions.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nload(\"../data/micusp_mini.rda\")\nsource(\"../R/helper_functions.R\")\n```\n:::\n\n\nNext, we'll filter out two disciplines and prepocess the text.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- micusp_mini %>%\n  filter(str_detect(doc_id, \"^BIO|^ENG\")) %>%\n  mutate(text = preprocess_text(text, remove_numbers = T))\n```\n:::\n\n\nLet's sample out one example for each score from question \"P1\".\n\n\n::: {.cell}\n\n```{.r .cell-code}\nget_embeddings <- function(x){\n  \n  df <- x\n  idx <- seq(1:nrow(df))\n  doc_embed <- function(i){\n    e <- starspace_embedding(model, x = df[i,2], type = \"document\")\n    rownames(e) <- df[i,1]\n    e <- data.frame(e)\n  }\n  doc_embeds <- lapply(idx, doc_embed)\n  doc_embeds <- bind_rows(doc_embeds)\n  return(doc_embeds)\n}\n```\n:::\n\n\nNow we can extract the embeddings for each our documents:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndoc_embeddings <- get_embeddings(df)\n\ndoc_embeddings <- doc_embeddings %>% \n  rownames_to_column(\"doc_id\") %>%\n  mutate(group = str_extract(doc_id, \"^[A-Z]+\")) %>%\n  dplyr::select(doc_id, group, everything())\n```\n:::\n\n\nFrom that, we calculated document similarity:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nclosest_docs <- function(doc_query){\n  pts <- doc_embeddings %>% filter(doc_id == doc_query) %>% select(X1:X100)\n  closest <- RANN::nn2(data = doc_embeddings[,3:102], query = pts, k = 11)\n  doc_ids <- doc_embeddings[closest$nn.idx,1]\n  doc_dist <- closest$nn.dists %>% as.vector()\n  df <- data.frame(doc_ids, doc_dist)\n  return(df)\n}\n```\n:::\n\n\nIn order to exact the embeddings we'll create a very simple function.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nclosest_docs(\"BIO.G0.02.1\") |>\n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"xeqksqcqhl\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#xeqksqcqhl table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#xeqksqcqhl thead, #xeqksqcqhl tbody, #xeqksqcqhl tfoot, #xeqksqcqhl tr, #xeqksqcqhl td, #xeqksqcqhl th {\n  border-style: none;\n}\n\n#xeqksqcqhl p {\n  margin: 0;\n  padding: 0;\n}\n\n#xeqksqcqhl .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#xeqksqcqhl .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#xeqksqcqhl .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#xeqksqcqhl .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#xeqksqcqhl .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xeqksqcqhl .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xeqksqcqhl .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xeqksqcqhl .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#xeqksqcqhl .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#xeqksqcqhl .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#xeqksqcqhl .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#xeqksqcqhl .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#xeqksqcqhl .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#xeqksqcqhl .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#xeqksqcqhl .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#xeqksqcqhl .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#xeqksqcqhl .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#xeqksqcqhl .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#xeqksqcqhl .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xeqksqcqhl .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#xeqksqcqhl .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#xeqksqcqhl .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#xeqksqcqhl .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xeqksqcqhl .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#xeqksqcqhl .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#xeqksqcqhl .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xeqksqcqhl .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xeqksqcqhl .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#xeqksqcqhl .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xeqksqcqhl .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#xeqksqcqhl .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xeqksqcqhl .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xeqksqcqhl .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xeqksqcqhl .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xeqksqcqhl .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xeqksqcqhl .gt_left {\n  text-align: left;\n}\n\n#xeqksqcqhl .gt_center {\n  text-align: center;\n}\n\n#xeqksqcqhl .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#xeqksqcqhl .gt_font_normal {\n  font-weight: normal;\n}\n\n#xeqksqcqhl .gt_font_bold {\n  font-weight: bold;\n}\n\n#xeqksqcqhl .gt_font_italic {\n  font-style: italic;\n}\n\n#xeqksqcqhl .gt_super {\n  font-size: 65%;\n}\n\n#xeqksqcqhl .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#xeqksqcqhl .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#xeqksqcqhl .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#xeqksqcqhl .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#xeqksqcqhl .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#xeqksqcqhl .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#xeqksqcqhl .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#xeqksqcqhl .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#xeqksqcqhl div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"doc_ids\">doc_ids</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"doc_dist\">doc_dist</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">BIO.G0.02.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.0000000</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">BIO.G0.29.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.1859816</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">BIO.G3.02.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.1903899</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">BIO.G2.02.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.1963893</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">BIO.G0.03.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.1983193</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">BIO.G0.06.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.2088154</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">BIO.G0.21.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.2251164</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">BIO.G2.03.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.2561836</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">BIO.G0.25.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.2864632</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">ENG.G0.16.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.2922092</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">ENG.G2.02.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.2979244</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\nAnd extract them.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nclosest_docs(\"ENG.G2.04.1\") |>\n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"evuizphkzc\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#evuizphkzc table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#evuizphkzc thead, #evuizphkzc tbody, #evuizphkzc tfoot, #evuizphkzc tr, #evuizphkzc td, #evuizphkzc th {\n  border-style: none;\n}\n\n#evuizphkzc p {\n  margin: 0;\n  padding: 0;\n}\n\n#evuizphkzc .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#evuizphkzc .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#evuizphkzc .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#evuizphkzc .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#evuizphkzc .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#evuizphkzc .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#evuizphkzc .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#evuizphkzc .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#evuizphkzc .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#evuizphkzc .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#evuizphkzc .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#evuizphkzc .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#evuizphkzc .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#evuizphkzc .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#evuizphkzc .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#evuizphkzc .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#evuizphkzc .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#evuizphkzc .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#evuizphkzc .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#evuizphkzc .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#evuizphkzc .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#evuizphkzc .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#evuizphkzc .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#evuizphkzc .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#evuizphkzc .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#evuizphkzc .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#evuizphkzc .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#evuizphkzc .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#evuizphkzc .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#evuizphkzc .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#evuizphkzc .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#evuizphkzc .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#evuizphkzc .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#evuizphkzc .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#evuizphkzc .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#evuizphkzc .gt_left {\n  text-align: left;\n}\n\n#evuizphkzc .gt_center {\n  text-align: center;\n}\n\n#evuizphkzc .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#evuizphkzc .gt_font_normal {\n  font-weight: normal;\n}\n\n#evuizphkzc .gt_font_bold {\n  font-weight: bold;\n}\n\n#evuizphkzc .gt_font_italic {\n  font-style: italic;\n}\n\n#evuizphkzc .gt_super {\n  font-size: 65%;\n}\n\n#evuizphkzc .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#evuizphkzc .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#evuizphkzc .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#evuizphkzc .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#evuizphkzc .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#evuizphkzc .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#evuizphkzc .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#evuizphkzc .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#evuizphkzc div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"doc_ids\">doc_ids</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"doc_dist\">doc_dist</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">ENG.G2.04.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.0000000</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">ENG.G0.50.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.1100662</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">ENG.G0.24.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.1180448</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">ENG.G0.55.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.1235793</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">ENG.G0.21.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.1318573</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">ENG.G2.01.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.1372697</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">ENG.G0.38.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.1628677</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">ENG.G2.02.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.1663655</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">ENG.G0.58.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.1711364</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">ENG.G0.16.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.1868237</td></tr>\n    <tr><td headers=\"doc_ids\" class=\"gt_row gt_left\">BIO.G2.02.1</td>\n<td headers=\"doc_dist\" class=\"gt_row gt_right\">0.2557516</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n## Plotting\n\nFor dimension reduction use a different technique: t-SNE. For more about t-Distributed Stochastic Neighbor Embedding see here:\n\n<https://towardsdatascience.com/an-introduction-to-t-sne-with-python-example-5a3a293108d1>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm <- dist(doc_embeddings[,3:102]) %>% as.matrix()\ndimnames(m) <- dimnames(m) <- list(doc_embeddings$doc_id, doc_embeddings$doc_id) \ndf_pairs <- t(combn(doc_embeddings$doc_id, 2))\ndist_df <- data.frame(df_pairs, dist=m[df_pairs])\ndist_df <- dist_df %>% arrange(dist)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndoc_tsne <- Rtsne(as.matrix(doc_embeddings[,3:102]), check_duplicates = FALSE, pca = FALSE, perplexity=5, theta=0.5, dims=2)\n\ndoc_tsne <- as.data.frame(doc_tsne$Y) %>% bind_cols(select(doc_embeddings, doc_id, group))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(doc_tsne, aes(x = V1, y = V2, fill = group)) +\n  geom_point(shape = 21) +\n  ggrepel::geom_text_repel(aes(label = doc_id), size = 3) +\n  viridis::scale_fill_viridis(discrete = T) +\n  theme_linedraw() +\n  theme(panel.grid.minor = element_blank())\n```\n\n::: {.cell-output-display}\n![Histogram of the token *the*](vector-models_files/figure-html/tsne-plot-1.png){width=672}\n:::\n:::\n\n\n## Another Example\n\nNext, let's build a predictive model from the Federalist Papers. Again, we'll convert the text to lower case and remove punctuation.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nload(\"../data/federalist_meta.rda\")\nload(\"../data/federalist_papers.rda\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfed_meta <- federalist_meta %>%\n  dplyr::select(doc_id, author_id)\n\nfed_txt <- federalist_papers\n\nfed_txt <- fed_txt %>%\n  left_join(fed_meta) %>%\n  filter(author_id == \"Hamilton\" | author_id == \"Madison\" | author_id == \"Disputed\") %>%\n  mutate(text = preprocess_text(text, remove_numbers = T))\n```\n:::\n\n\nNext, we'll subset out our training and testing data. Note that we're going to down-sample in order to balance majority and minority data classes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntrain <- fed_txt %>%\n  filter(author_id == \"Hamilton\" | author_id == \"Madison\") %>%\n  group_by(author_id) %>%\n  sample_n(14) %>%\n  ungroup()\n\ntest <- fed_txt %>%\n  filter(author_id == \"Disputed\")\n```\n:::\n\n\nNow we can build the model. Here we use bigrams with a minimum count of 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\npred_model <- embed_tagspace(x = train$text, y = train$author_id,\n                        early_stopping = 0.9 ,dim = 300, \n                        lr = 0.01, epoch = 10, loss = \"softmax\", adagrad = TRUE, \n                        similarity = \"cosine\", negSearchLimit = 10,\n                        ngrams = 2, minCount = 2)\n```\n:::\n\n\nWe can predict the text of any selected row....\n\n\n::: {.cell}\n\n```{.r .cell-code}\npredict(pred_model, test$text[1], k = 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[[1]]\n[[1]]$doc_id\n[1] 1\n\n[[1]]$text\n[1] \"to the people of the state of new york the author of the notes on the state of virginia quoted in the last paper has subjoined to that valuable work the draught of a constitution which had been prepared in order to be laid before a convention expected to be called in by the legislature for the establishment of a constitution for that commonwealth the plan like every thing from the same pen marks a turn of thinking original comprehensive and accurate and is the more worthy of attention as it equally displays a fervent attachment to republican government and an enlightened view of the dangerous propensities against which it ought to be guarded one of the precautions which he proposes and on which he appears ultimately to rely as a palladium to the weaker departments of power against the invasions of the stronger is perhaps altogether his own and as it immediately relates to the subject of our present inquiry ought not to be overlooked his proposition is that whenever any two of the three branches of government shall concur in opinion each by the voices of two thirds of their whole number that a convention is necessary for altering the constitution or correcting breaches of it a convention shall be called for the purpose as the people are the only legitimate fountain of power and it is from them that the constitutional charter under which the several branches of government hold their power is derived it seems strictly consonant to the republican theory to recur to the same original authority not only whenever it may be necessary to enlarge diminish or new model the powers of the government but also whenever any one of the departments may commit encroachments on the chartered authorities of the others the several departments being perfectly co ordinate by the terms of their common commission none of them it is evident can pretend to an exclusive or superior right of settling the boundaries between their respective powers and how are the encroachments of the stronger to be prevented or the wrongs of the weaker to be redressed without an appeal to the people themselves who as the grantors of the commissions can alone declare its true meaning and enforce its observance there is certainly great force in this reasoning and it must be allowed to prove that a constitutional road to the decision of the people ought to be marked out and kept open for certain great and extraordinary occasions but there appear to be insuperable objections against the proposed recurrence to the people as a provision in all cases for keeping the several departments of power within their constitutional limits in the first place the provision does not reach the case of a combination of two of the departments against the third if the legislative authority which possesses so many means of operating on the motives of the other departments should be able to gain to its interest either of the others or even one third of its members the remaining department could derive no advantage from its remedial provision i do not dwell however on this objection because it may be thought to be rather against the modification of the principle than against the principle itself in the next place it may be considered as an objection inherent in the principle that as every appeal to the people would carry an implication of some defect in the government frequent appeals would in a great measure deprive the government of that veneration which time bestows on every thing and without which perhaps the wisest and freest governments would not possess the requisite stability if it be true that all governments rest on opinion it is no less true that the strength of opinion in each individual and its practical influence on his conduct depend much on the number which he supposes to have entertained the same opinion the reason of man like man himself is timid and cautious when left alone and acquires firmness and confidence in proportion to the number with which it is associated when the examples which fortify opinion are ancient as well as numerous they are known to have a double effect in a nation of philosophers this consideration ought to be disregarded a reverence for the laws would be sufficiently inculcated by the voice of an enlightened reason but a nation of philosophers is as little to be expected as the philosophical race of kings wished for by plato and in every other nation the most rational government will not find it a superfluous advantage to have the prejudices of the community on its side the danger of disturbing the public tranquillity by interesting too strongly the public passions is a still more serious objection against a frequent reference of constitutional questions to the decision of the whole society notwithstanding the success which has attended the revisions of our established forms of government and which does so much honor to the virtue and intelligence of the people of america it must be confessed that the experiments are of too ticklish a nature to be unnecessarily multiplied we are to recollect that all the existing constitutions were formed in the midst of a danger which repressed the passions most unfriendly to order and concord of an enthusiastic confidence of the people in their patriotic leaders which stifled the ordinary diversity of opinions on great national questions of a universal ardor for new and opposite forms produced by a universal resentment and indignation against the ancient government and whilst no spirit of party connected with the changes to be made or the abuses to be reformed could mingle its leaven in the operation the future situations in which we must expect to be usually placed do not present any equivalent security against the danger which is apprehended but the greatest objection of all is that the decisions which would probably result from such appeals would not answer the purpose of maintaining the constitutional equilibrium of the government we have seen that the tendency of republican governments is to an aggrandizement of the legislative at the expense of the other departments the appeals to the people therefore would usually be made by the executive and judiciary departments but whether made by one side or the other would each side enjoy equal advantages on the trial let us view their different situations the members of the executive and judiciary departments are few in number and can be personally known to a small part only of the people the latter by the mode of their appointment as well as by the nature and permanency of it are too far removed from the people to share much in their prepossessions the former are generally the objects of jealousy and their administration is always liable to be discolored and rendered unpopular the members of the legislative department on the other hand are numberous they are distributed and dwell among the people at large their connections of blood of friendship and of acquaintance embrace a great proportion of the most influential part of the society the nature of their public trust implies a personal influence among the people and that they are more immediately the confidential guardians of the rights and liberties of the people with these advantages it can hardly be supposed that the adverse party would have an equal chance for a favorable issue but the legislative party would not only be able to plead their cause most successfully with the people they would probably be constituted themselves the judges the same influence which had gained them an election into the legislature would gain them a seat in the convention if this should not be the case with all it would probably be the case with many and pretty certainly with those leading characters on whom every thing depends in such bodies the convention in short would be composed chiefly of men who had been who actually were or who expected to be members of the department whose conduct was arraigned they would consequently be parties to the very question to be decided by them it might however sometimes happen that appeals would be made under circumstances less adverse to the executive and judiciary departments the usurpations of the legislature might be so flagrant and so sudden as to admit of no specious coloring a strong party among themselves might take side with the other branches the executive power might be in the hands of a peculiar favorite of the people in such a posture of things the public decision might be less swayed by prepossessions in favor of the legislative party but still it could never be expected to turn on the true merits of the question it would inevitably be connected with the spirit of pre existing parties or of parties springing out of the question itself it would be connected with persons of distinguished character and extensive influence in the community it would be pronounced by the very men who had been agents in or opponents of the measures to which the decision would relate the passions therefore not the reason of the public would sit in judgment but it is the reason alone of the public that ought to control and regulate the government the passions ought to be controlled and regulated by the government we found in the last paper that mere declarations in the written constitution are not sufficient to restrain the several departments within their legal rights it appears in this that occasional appeals to the people would be neither a proper nor an effectual provision for that purpose how far the provisions of a different nature contained in the plan above quoted might be adequate i do not examine some of them are unquestionably founded on sound political principles and all of them are framed with singular ingenuity and precision publius\"\n\n[[1]]$prediction\n     label   label_starspace similarity\n1  Madison  __label__Madison  0.9873456\n2 Hamilton __label__Hamilton -0.9687875\n\n[[1]]$terms\n[[1]]$terms$basedoc_index\n[1] 1 2\n\n[[1]]$terms$basedoc_terms\ncharacter(0)\n```\n\n\n:::\n:::\n\n\nOr create a vector of texts and generate predictions for each... \n\n\n::: {.cell}\n\n```{.r .cell-code}\ntext   <- test$text\n\nemb_labels <- as.matrix(pred_model, type =\"labels\", prefix = FALSE)\n\nscores <- embedding_similarity(starspace_embedding(pred_model, text), emb_labels, type = \"cosine\", top_n = 1)\n```\n:::\n\n\nThen construct a dataframe from the results:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata.frame(test$doc_id, scores[, c ( \"term2\" , \"rank\" )]) |>\n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"mtwrqchzrp\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#mtwrqchzrp table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#mtwrqchzrp thead, #mtwrqchzrp tbody, #mtwrqchzrp tfoot, #mtwrqchzrp tr, #mtwrqchzrp td, #mtwrqchzrp th {\n  border-style: none;\n}\n\n#mtwrqchzrp p {\n  margin: 0;\n  padding: 0;\n}\n\n#mtwrqchzrp .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#mtwrqchzrp .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#mtwrqchzrp .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#mtwrqchzrp .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#mtwrqchzrp .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#mtwrqchzrp .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mtwrqchzrp .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#mtwrqchzrp .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#mtwrqchzrp .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#mtwrqchzrp .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#mtwrqchzrp .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#mtwrqchzrp .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#mtwrqchzrp .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#mtwrqchzrp .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#mtwrqchzrp .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#mtwrqchzrp .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#mtwrqchzrp .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#mtwrqchzrp .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#mtwrqchzrp .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mtwrqchzrp .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#mtwrqchzrp .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#mtwrqchzrp .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#mtwrqchzrp .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mtwrqchzrp .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#mtwrqchzrp .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#mtwrqchzrp .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mtwrqchzrp .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mtwrqchzrp .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#mtwrqchzrp .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mtwrqchzrp .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#mtwrqchzrp .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mtwrqchzrp .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#mtwrqchzrp .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mtwrqchzrp .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#mtwrqchzrp .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mtwrqchzrp .gt_left {\n  text-align: left;\n}\n\n#mtwrqchzrp .gt_center {\n  text-align: center;\n}\n\n#mtwrqchzrp .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#mtwrqchzrp .gt_font_normal {\n  font-weight: normal;\n}\n\n#mtwrqchzrp .gt_font_bold {\n  font-weight: bold;\n}\n\n#mtwrqchzrp .gt_font_italic {\n  font-style: italic;\n}\n\n#mtwrqchzrp .gt_super {\n  font-size: 65%;\n}\n\n#mtwrqchzrp .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#mtwrqchzrp .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#mtwrqchzrp .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#mtwrqchzrp .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#mtwrqchzrp .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#mtwrqchzrp .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#mtwrqchzrp .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#mtwrqchzrp .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#mtwrqchzrp div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"test.doc_id\">test.doc_id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"term2\">term2</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"rank\">rank</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"test.doc_id\" class=\"gt_row gt_left\">FEDERALIST_49</td>\n<td headers=\"term2\" class=\"gt_row gt_left\">Madison</td>\n<td headers=\"rank\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"test.doc_id\" class=\"gt_row gt_left\">FEDERALIST_50</td>\n<td headers=\"term2\" class=\"gt_row gt_left\">Madison</td>\n<td headers=\"rank\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"test.doc_id\" class=\"gt_row gt_left\">FEDERALIST_51</td>\n<td headers=\"term2\" class=\"gt_row gt_left\">Madison</td>\n<td headers=\"rank\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"test.doc_id\" class=\"gt_row gt_left\">FEDERALIST_52</td>\n<td headers=\"term2\" class=\"gt_row gt_left\">Madison</td>\n<td headers=\"rank\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"test.doc_id\" class=\"gt_row gt_left\">FEDERALIST_53</td>\n<td headers=\"term2\" class=\"gt_row gt_left\">Madison</td>\n<td headers=\"rank\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"test.doc_id\" class=\"gt_row gt_left\">FEDERALIST_54</td>\n<td headers=\"term2\" class=\"gt_row gt_left\">Madison</td>\n<td headers=\"rank\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"test.doc_id\" class=\"gt_row gt_left\">FEDERALIST_55</td>\n<td headers=\"term2\" class=\"gt_row gt_left\">Madison</td>\n<td headers=\"rank\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"test.doc_id\" class=\"gt_row gt_left\">FEDERALIST_56</td>\n<td headers=\"term2\" class=\"gt_row gt_left\">Madison</td>\n<td headers=\"rank\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"test.doc_id\" class=\"gt_row gt_left\">FEDERALIST_57</td>\n<td headers=\"term2\" class=\"gt_row gt_left\">Madison</td>\n<td headers=\"rank\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"test.doc_id\" class=\"gt_row gt_left\">FEDERALIST_58</td>\n<td headers=\"term2\" class=\"gt_row gt_left\">Madison</td>\n<td headers=\"rank\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"test.doc_id\" class=\"gt_row gt_left\">FEDERALIST_62</td>\n<td headers=\"term2\" class=\"gt_row gt_left\">Madison</td>\n<td headers=\"rank\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"test.doc_id\" class=\"gt_row gt_left\">FEDERALIST_63</td>\n<td headers=\"term2\" class=\"gt_row gt_left\">Madison</td>\n<td headers=\"rank\" class=\"gt_row gt_right\">1</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n",
    "supporting": [
      "vector-models_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}