<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE TEI.2 SYSTEM "tei_bawe.dtd">
<TEI.2 id="_0025b" n="version 1.0">
<teiHeader>
<fileDesc>
<titleStmt>
<title>Use of the M16C/62 Microcontroller Analogue-to-Digital-Converter to Measure &amp; Control Temperature</title>
</titleStmt>
<extent/>
<publicationStmt>
<distributor>British Academic Written English (BAWE) corpus</distributor>
<availability>
<p>The British Academic Written English (BAWE) corpus was developed at the Universities of Warwick, Reading and Oxford Brookes, under the directorship of Hilary Nesi and Sheena Gardner (formerly of the Centre for Applied Linguistics [previously called CELTE], Warwick), Paul Thompson (Department of Applied Linguistics, Reading) and Paul Wickens (Westminster Institute of Education, Oxford Brookes), with funding from the ESRC. Subject to the rights of the these institutions in the BAWE corpus, and pursuant to the ESRC agreement, the BAWE corpus is available to researchers for research purposes PROVIDED THAT the following conditions are met:</p>
<p>1. The corpus files are not distributed in either their original form or in modified form.</p>
<p>2. The texts are used for research purposes only; they should not be reproduced in teaching materials.</p>
<p>3. The texts are not reproduced in full for a wider audience/readership, although researchers are free to quote short passages of text (up to 200 running words from any given text).</p>
<p>4. The BAWE corpus developers (contact: BAWE@warwick.ac.uk) are informed of all projects, dissertations, theses, presentations or publications arising from analysis of the corpus.</p>
<p>5. Researchers acknowledge their use of the corpus using the following form of words: "The data in this study come from the British Academic Written English (BAWE) corpus, which was developed at the Universities of Warwick, Reading and Oxford Brookes under the directorship of Hilary Nesi and Sheena Gardner (formerly of the Centre for Applied Linguistics [previously called CELTE], Warwick), Paul Thompson (Department of Applied Linguistics, Reading) and Paul Wickens (Westminster Institute of Education, Oxford Brookes), with funding from the ESRC (RES-000-23-0800)."</p>
</availability>
</publicationStmt>
<notesStmt>
<note resp="British Academic Written English (BAWE) corpus project">The document has a title page which contains:document titletitle part</note>
<note resp="British Academic Written English (BAWE) corpus project">Language used in quote: <foreign id="English">English</foreign>
</note>
<note resp="British Academic Written English (BAWE) corpus project">deleted: page numbers</note>
</notesStmt>
<sourceDesc>
<p n="level">2</p>
<p n="date">2005-02</p>
<p n="module title">Digital Design</p>
<p n="module code">ES21R</p>
<p n="genre family">Methodology recount</p>
<p n="discipline">Engineering</p>
<p n="disciplinary group">PS</p>
<p n="grade">D</p>
<p n="number of authors">1</p>
<p n="number of words">833</p>
<p n="number of s-units">40</p>
<p n="number of p">18</p>
<p n="number of tables">0</p>
<p n="number of figures">0</p>
<p n="number of block quotes">2</p>
<p n="number of formulae">0</p>
<p n="number of lists">0</p>
<p n="number of paragraphs formatted like lists">0</p>
<p n="abstract present">abstract present</p>
<p n="average words per s-unit">20.8</p>
<p n="average s-units per p">2.2</p>
<p n="macrotype of assignment">simple assignment</p>
</sourceDesc>
</fileDesc>
<encodingDesc>
<p>TEI P4 (documented in: BAWE.documentation.pdf)</p>
</encodingDesc>
<profileDesc>
<particDesc>
<person>
<p n="gender">f</p>
<p n="year of birth">1984</p>
<p n="first language">Chinese Mandarin</p>
<p n="education">UK4</p>
<p n="course">Electronic and Communication Engineering</p>
<p n="student ID">0025</p>
</person>
</particDesc>
</profileDesc>
</teiHeader>
<text>
<front>
<titlePage>
<titlePart>University of <name type="university"/> School of Engineering</titlePart>
<titlePart rend="underlined bold">ES21R Digital Design - Assignment 3</titlePart>
<docTitle>
<titlePart>Use of the M16C/62 Microcontroller Analogue-to-Digital-Converter to Measure &amp; Control Temperature</titlePart>
</docTitle>
<titlePart>Student ID: <name type="student ID"/> Date: 18/02/05</titlePart>
</titlePage>
</front>
<body>
<div1 type="abstract">
<head rend="bold">Summary</head>
<p n="p1.18">
<s n="s1.3;p1.18">The purpose of this assignment is to demonstrate the use of an Analogue-to-Digital-Converter on the development board, and the use of a temperature transducer/heater on the teaching rig. </s>
<s n="s2.3;p1.18">One of the microcontroller analogue inputs is connecting to the temperature transducer, after the transducer receiving an analogue input signal, the heater turns on so the temperature changes. </s>
<s n="s3.3;p1.18">ADC is used to convert the analogue signal into digital signal and then display the temperature in the digital form on the LCM display. </s>
</p>
<p n="p2.18">
<s n="s1.1;p2.18">The hardware elements featured in the experiment are the microcontroller I/O ports, ADC, temperature transducer/heater combination and LCM display. </s>
</p>
</div1>
<div1 type="section">
<head rend="bold">Operation </head>
<p n="p3.18">
<s n="s1.3;p3.18">A program is already given demonstrating how the ADC is used to show the digital output on the LCM display. </s>
<s n="s2.3;p3.18">According to the diagram of M16C teaching rig, we set port 10.1 of the development board connecting to the temperature transducer as input, port 10.2 as output. </s>
<s n="s3.3;p3.18">Then we set A-D control registers to enable the ADC and start converting. </s>
</p>
<p n="p4.18">
<s n="s1.3;p4.18">After debugger, 73 can be seen shown on the LCM. If we warm up the transducer by putting a finger on it, the value on the LCM goes up slightly. </s>
<s n="s2.3;p4.18">This number is linearly proportional to the Celsius (Centigrade) temperature. </s>
<s n="s3.3;p4.18">Therefore, some modifications can be done to the program to display the actual temperature in the Celsius format (x°C). </s>
</p>
<p n="p5.18">
<s n="s1.1;p5.18">We know that the ADC input range is 0-5V, the following equation is derived to give the temperature of the transducer in terms of the ADC output: </s>
</p>
<p n="p6.18">
<s n="s1.1;p6.18">display = (((ADC/5)*0.0196+0.5)/0.01) </s>
</p>
<p n="p7.18">
<s n="s1.1;p7.18">The amplifier of the transducer has a gain of 5, so ADC/5 is used to eliminate the gain; </s>
</p>
<p n="p8.18">
<s n="s1.4;p8.18">The output range is between 0 to 255 (2 to the power of 8). </s>
<s n="s2.4;p8.18">This is because there are 8 independent analogue inputs. </s>
<s n="s3.4;p8.18">The input voltage is 0-5V, as a result, there is 0.0196V per output. </s>
<s n="s4.4;p8.18">(ADC/5)*0.0196 is to give the output voltage; </s>
</p>
<p n="p9.18">
<s n="s1.1;p9.18">0.5°C is the temperature accuracy guaranteeable; </s>
</p>
<p n="p10.18">
<s n="s1.2;p10.18">The linear propagation is 10.0mV/°C scale factor. </s>
<s n="s2.2;p10.18">Therefore Vout/10mV finally gives the temperature value in Celsius format. </s>
</p>
<p n="p11.18">
<s n="s1.5;p11.18">There is another requirement of this assignment which is to keep the transducer at a temperature of 30°C that should be measured and displayed continuously. </s>
<s n="s2.5;p11.18">Here, the program functions as a simple on-off temperature controller. </s>
<s n="s3.5;p11.18">To do this is simply to add if statement to control the temperature sensor and display. </s>
<s n="s4.5;p11.18">Since the output has already been converted into Celsius format hence we can output the value 30 below straightforward. </s>
<s n="s5.5;p11.18">If the temperature is not reaching 30°C, the heater will keep warming up until the temperature reaches 30°C, then the heater stops warming up. </s>
</p>
<quote lang="English">if(display>30) /*If temperature is greater than 30*/ { P10.2 = 0; /*Turn the heater off*/ } if(display&lt;30 ) /*If temperature is less than 30*/ { P10.2 = 1; /*Turn the heater on*/ }</quote>
<p n="p12.18">
<s n="s1.3;p12.18">After this, we need to show the 'hundred', 'tens' and 'unit' values of the output. </s>
<s n="s2.3;p12.18">These are simply as we have already done this in the second experiment. </s>
<s n="s3.3;p12.18">In the program, to display the 'hundred' part is not necessary since we have already known that temperature cannot large than 30°C . </s>
</p>
<p n="p13.18">
<s n="s1.2;p13.18">However, not only displaying the output values, we also need to show the temperature unit symbol after the value. </s>
<s n="s2.2;p13.18">Symbol °and character C can be found from ASCII code respectively </s>
</p>
<p n="p14.18">
<s n="s1.1;p14.18">° is given by the following hex code: DF </s>
</p>
<quote lang="English">send (16+((0xDF>>4)&amp;0x0f)); send (16+(0xDF&amp;0x0F)); C is given by the following hex code: 43 send (16+((0x43>>4)&amp;0x0f)); send (16+(0x43&amp;0x0F));</quote>
<p n="p15.18">
<s n="s1.1;p15.18">so, a complete output is shown on the LCM including the temperature value in Celsius format and the unit symbol. </s>
</p>
</div1>
<div1 type="section">
<head rend="bold">Discussion and Conclusion</head>
<p n="p16.18">
<s n="s1.2;p16.18">LM35 temperature sensor used in this experiment has an important feature; that is its output voltage is linearly proportional to the Celsius temperature. </s>
<s n="s2.2;p16.18">By knowing this feature, we can convert temperature in digital format into Celsius format. </s>
</p>
<p n="p17.18">
<s n="s1.4;p17.18">We could use other hardware elements on the teaching rig to improve this experiment. </s>
<s n="s2.4;p17.18">For example, we can use the red, green and yellow LEDs to indicate if the temperature is above or below 30°C. This is easier to observe the result as we could just see if the LED lights rather than watching the LCM every time. </s>
<s n="s3.4;p17.18">First of all, set I/O ports of the microcontroller connecting to the LEDs, then in the if statement which is keeping the temperature at 30°C, we can add some code, such as if temperature is less than 30°C, red LED lights; if temperature is greater than 30°C, green LED lights. </s>
<s n="s4.4;p17.18">Also, we can use buzzer or other hardware elements to improve the program. </s>
</p>
<p n="p18.18">
<s n="s1.2;p18.18">The accuracy guaranteeable is 0.5°C. I executed the program for several times, normally the number on the LCM stays at 31°C, just once, it stays at 30°C. As a result, error is greater than the guaranteed accuracy. </s>
<s n="s2.2;p18.18">When the temperature reaches 30°C, the heater turns off, but the heater is still warm, so it may increase the temperature so the LCM usually display 31°C. </s>
</p>
</div1>
</body>
<back/>
</text>
</TEI.2>
